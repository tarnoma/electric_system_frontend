"use strict";(globalThis["webpackChunkquasar_project"]=globalThis["webpackChunkquasar_project"]||[]).push([[814],{808:(e,s,a)=>{a.d(s,{l:()=>n});var t=a(1809),l=a(985);const n=(0,t.Q_)("loginuser",{state:()=>({userid:(0,l.y$C)("userid",""),fullname:(0,l.y$C)("fullname",""),username:(0,l.y$C)("username",""),accessToken:(0,l.y$C)("accessToken",""),userType:(0,l.y$C)("userType","")}),getters:{getUserId:e=>e.userid,getFullname:e=>e.fullname,getUsername:e=>e.username,getAcessToken:e=>e.accessToken,getUserType:e=>e.userType},actions:{clearStorage(){this.userid="",this.fullname="",this.username="",this.accessToken="",this.userType=""}}})},9708:(e,s,a)=>{a.d(s,{D:()=>l,S:()=>n});const t=/^(?=[a-zA-Z0-9@._%+-]{6,254}$)[a-zA-Z0-9._%+-]{1,64}@(?:[a-zA-Z0-9-]{1,63}\.){1,8}[a-zA-Z]{2,63}$/,l=e=>t.test(e)||"Please enter a valid email address",n=e=>!!e||"Field is required"},1814:(e,s,a)=>{a.r(s),a.d(s,{default:()=>U});var t=a(9835),l=a(1957),n=a(6970);const i=(0,t._)("div",{style:{"text-align":"center"}},[(0,t._)("h1",null,"Register")],-1),r={class:"flex justify-center"},u={class:"flex flex-center"};function o(e,s,a,o,m,d){const p=(0,t.up)("q-icon"),h=(0,t.up)("q-input"),c=(0,t.up)("text-caption"),g=(0,t.up)("q-btn"),y=(0,t.up)("q-form"),C=(0,t.up)("q-card-section"),w=(0,t.up)("q-card"),f=(0,t.up)("q-page");return(0,t.wg)(),(0,t.j4)(f,null,{default:(0,t.w5)((()=>[i,(0,t._)("div",r,[(0,t.Wm)(w,{class:"my-card bg-grey-1 q-px-md q-py-md",style:{width:"40rem"}},{default:(0,t.w5)((()=>[(0,t._)("div",u,[(0,t.Wm)(p,{name:"account_circle",color:"grey-6",size:"4rem"})]),(0,t.Wm)(C,null,{default:(0,t.w5)((()=>[(0,t.Wm)(y,{onSubmit:(0,l.iM)(d.onSubmit,["prevent"]),onReset:d.onReset,class:"q-gutter-md",ref:"myRegisterForm"},{default:(0,t.w5)((()=>[(0,t._)("div",null,[(0,t.Wm)(h,{modelValue:m.fullname,"onUpdate:modelValue":s[0]||(s[0]=e=>m.fullname=e),type:"text",label:"Your Fullname","lazy-rules":"",rules:[e=>e&&e.length>0||"Field is required"]},null,8,["modelValue","rules"])]),(0,t._)("div",null,[(0,t.Wm)(h,{modelValue:m.email,"onUpdate:modelValue":s[1]||(s[1]=e=>m.email=e),type:"text",label:"Your Email","lazy-rules":"",rules:[d.emailValidate,d.requiredValidate]},null,8,["modelValue","rules"])]),(0,t._)("div",null,[(0,t.Wm)(h,{modelValue:m.username,"onUpdate:modelValue":s[2]||(s[2]=e=>m.username=e),type:"text",label:"Your username","lazy-rules":"",rules:[e=>e&&e.length>0||"Field is required"]},null,8,["modelValue","rules"]),m.usernameCaption.show?((0,t.wg)(),(0,t.j4)(c,{key:0,style:{"font-size":"0.9em"},class:(0,n.C_)([m.usernameCaption.showClass?"text-positive":"text-negative"])},{default:(0,t.w5)((()=>[(0,t.Wm)(p,{name:m.usernameCaption.icon,size:"1.5em"},null,8,["name"]),(0,t.Uk)(" "+(0,n.zw)(m.usernameCaption.msg),1)])),_:1},8,["class"])):(0,t.kq)("",!0)]),(0,t._)("div",null,[(0,t.Wm)(h,{modelValue:m.password,"onUpdate:modelValue":s[4]||(s[4]=e=>m.password=e),type:m.isPwd?"password":"text",label:"Your Password","lazy-rules":"",rules:[e=>e&&e.length>=6||"Must be at least 6 characters"]},{append:(0,t.w5)((()=>[(0,t.Wm)(p,{name:m.isPwd?"visibility_off":"visibility",class:"cursor-pointer",onClick:s[3]||(s[3]=e=>m.isPwd=!m.isPwd)},null,8,["name"])])),_:1},8,["modelValue","type","rules"])]),(0,t._)("div",null,[(0,t.Wm)(g,{label:"Submit",type:"submit",color:"primary"}),(0,t.Wm)(g,{label:"Reset",type:"reset",color:"primary",flat:"",class:"q-ml-sm"})])])),_:1},8,["onSubmit","onReset"])])),_:1})])),_:1})])])),_:1})}a(9665);var m=a(9708),d=a(808),p=a(6827);const h={name:"RegisterPage",data(){return{imageUrl:"",fullname:"",email:"",username:"",password:"",isPwd:!0,usernameCaption:{show:!1,showClass:!1,icon:null,msg:null},storeLogUser:(0,d.l)()}},methods:{emailValidate:m.D,requiredValidate:m.S,onSubmit(){if(!this.usernameCaption.showClass)return void p.Z.create({type:"negative",message:"Username is already taken"});const e={fullname:this.fullname,email:this.email,username:this.username,password:this.password};this.$api.post("/auth/signup",e).then((e=>{200==e.status&&(this.storeLogUser.userid=e.data.id,this.storeLogUser.fullname=e.data.fullname,this.storeLogUser.username=e.data.username,this.storeLogUser.accessToken=e.data.accessToken,this.storeLogUser.userType=e.data.userType),this.$refs.myRegisterForm.reset()})).catch((e=>{console.log(e)})),this.$router.push("/user/request")},onReset(){this.fullname=null,this.email=null,this.username=null,this.password=null,this.resetUserCaption()},resetUserCaption(){this.usernameCaption.show=!1,this.usernameCaption.showClass=!1,this.usernameCaption.icon=null,this.usernameCaption.msg=null},usernameValidate(){this.username?this.$api.get("/auth/"+this.username).then((e=>{e.data.valid?(this.usernameCaption.show=!0,this.usernameCaption.showClass=!0,this.usernameCaption.icon="check_circle_outline",this.usernameCaption.msg="This username is Available."):(this.usernameCaption.show=!0,this.usernameCaption.showClass=!1,this.usernameCaption.icon="highlight_off",this.usernameCaption.msg="This username is NOT Available.")})).catch((e=>{console.log(e)})):this.resetUserCaption()}},watch:{username(){this.usernameValidate()}}};var c=a(1639),g=a(9885),y=a(4458),C=a(2857),w=a(3190),f=a(8326),_=a(6611),b=a(9379),v=a(9984),q=a.n(v);const T=(0,c.Z)(h,[["render",o]]),U=T;q()(h,"components",{QPage:g.Z,QCard:y.Z,QIcon:C.Z,QCardSection:w.Z,QForm:f.Z,QInput:_.Z,QBtn:b.Z})}}]);